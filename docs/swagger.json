{
    "swagger": "2.0",
    "info": {
        "description": "Weather API docs",
        "title": "Weather API",
        "contact": {},
        "version": "1.0"
    },
    "host": "localhost:8080",
    "paths": {
        "/api/neighborhoods": {
            "get": {
                "description": "Retorna todos os bairros cadastrados",
                "tags": [
                    "Neighborhood"
                ],
                "summary": "Lista todos os bairros",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/domain.Neighborhood"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/exception.Exception"
                        }
                    }
                }
            },
            "put": {
                "description": "Atualiza os dados de um bairro existente",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Neighborhood"
                ],
                "summary": "Atualiza um bairro",
                "parameters": [
                    {
                        "description": "Dados do bairro",
                        "name": "neighborhood",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/domain.Neighborhood"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/exception.Exception"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/exception.Exception"
                        }
                    }
                }
            }
        },
        "/api/neighborhoods/active": {
            "get": {
                "description": "Retorna apenas os bairros ativos",
                "tags": [
                    "Neighborhood"
                ],
                "summary": "Lista bairros ativos",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/domain.Neighborhood"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/exception.Exception"
                        }
                    }
                }
            }
        },
        "/api/neighborhoods/new": {
            "post": {
                "description": "Cria um novo bairro com os dados fornecidos",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Neighborhood"
                ],
                "summary": "Cria um bairro",
                "parameters": [
                    {
                        "description": "Dados do bairro a ser criado",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/domain.CreateNeighborhoodDTO"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/neighborhoods/{id}": {
            "get": {
                "description": "Retorna os dados de um bairro pelo seu ID",
                "tags": [
                    "Neighborhood"
                ],
                "summary": "Busca bairro por ID",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID do bairro",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/domain.Neighborhood"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/exception.Exception"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/exception.Exception"
                        }
                    }
                }
            },
            "delete": {
                "description": "Remove um bairro existente pelo ID",
                "tags": [
                    "Neighborhood"
                ],
                "summary": "Deleta um bairro",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID do bairro",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/exception.Exception"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/exception.Exception"
                        }
                    }
                }
            }
        },
        "/api/neighborhoods/{id}/weather/{start}/{end}": {
            "get": {
                "description": "Retorna os registros de clima de um bairro entre duas datas",
                "tags": [
                    "Neighborhood"
                ],
                "summary": "Clima de um bairro",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID do bairro",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Data inicial (YYYY-MM-DD)",
                        "name": "start",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Data final (YYYY-MM-DD)",
                        "name": "end",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Bairro com dados de clima",
                        "schema": {
                            "$ref": "#/definitions/domain.Neighborhood"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/exception.Exception"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/exception.Exception"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "domain.CreateNeighborhoodDTO": {
            "type": "object",
            "required": [
                "area",
                "habitants",
                "latitude",
                "longitude",
                "name"
            ],
            "properties": {
                "active": {
                    "type": "boolean"
                },
                "area": {
                    "type": "number"
                },
                "habitants": {
                    "type": "integer"
                },
                "latitude": {
                    "type": "number"
                },
                "longitude": {
                    "type": "number"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "domain.Neighborhood": {
            "type": "object",
            "properties": {
                "active": {
                    "type": "boolean"
                },
                "area": {
                    "type": "number"
                },
                "created_at": {
                    "type": "string"
                },
                "deleted_at": {
                    "type": "string"
                },
                "habitants": {
                    "type": "integer"
                },
                "id": {
                    "type": "integer"
                },
                "latitude": {
                    "type": "number"
                },
                "longitude": {
                    "type": "number"
                },
                "name": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                },
                "weather": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/domain.WeatherData"
                    }
                }
            }
        },
        "domain.WeatherCode": {
            "type": "integer",
            "enum": [
                0,
                1,
                2,
                3,
                45,
                48,
                51,
                53,
                55,
                56,
                57,
                61,
                63,
                65,
                66,
                67,
                71,
                73,
                75,
                77,
                80,
                81,
                82,
                85,
                86,
                95,
                96,
                99
            ],
            "x-enum-varnames": [
                "ClearSky",
                "PartlyCloudy",
                "MostlyCloudy",
                "Overcast",
                "Mist",
                "FreezingMist",
                "DrizzleLight",
                "DrizzleModerate",
                "DrizzleHeavy",
                "FreezingDrizzleLight",
                "FreezingDrizzleHeavy",
                "RainLight",
                "RainModerate",
                "RainHeavy",
                "FreezingRainLight",
                "FreezingRainHeavy",
                "SnowLight",
                "SnowModerate",
                "SnowHeavy",
                "SnowGrains",
                "ShowersLight",
                "ShowersModerate",
                "ShowersViolent",
                "SnowShowersLight",
                "SnowShowersHeavy",
                "ThunderstormLight",
                "ThunderstormHailLight",
                "ThunderstormHailHeavy"
            ]
        },
        "domain.WeatherData": {
            "type": "object",
            "properties": {
                "code": {
                    "$ref": "#/definitions/domain.WeatherCode"
                },
                "collectedAt": {
                    "type": "string"
                },
                "collectedFrom": {
                    "description": "Neighborhood",
                    "type": "integer"
                },
                "created_at": {
                    "type": "string"
                },
                "deleted_at": {
                    "type": "string"
                },
                "humidity": {
                    "type": "number"
                },
                "id": {
                    "type": "integer"
                },
                "rainProbability": {
                    "type": "number"
                },
                "rainVolume": {
                    "type": "number"
                },
                "temperature": {
                    "type": "number"
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "exception.Exception": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                }
            }
        }
    }
}